<html>
<head>
<script src="webcomponents-bundle.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
<title>Web Components</title>
  <script src="webcomponents-bundle.js"></script>


</head>
<body>
	<a href="/web">Home</a>
  <my-checkreport></my-checkreport>
  <my-test></my-test>

<script type="text/javascript">
window.addEventListener('check', (e) => {
	console.log('check event received: ' );    		
	console.log(e);
	const event = new CustomEvent("test",{
	      bubbles: true,
	      cancelable: false,
	    });
    console.log('Dispatching test event: ');
    console.log(event);

	window.dispatchEvent( event);

});
</script>
<script type="text/javascript">
customElements.define('my-checkreport', class extends HTMLElement {
	  constructor() {
	    super();
	    //const shadowRoot = this.attachShadow({mode: 'open'});
	    this.innerHTML = `<my-checkbox id="checkbox"></my-checkbox>`;
	    this.addEventListener('check', (e) => {
	    	console.log('check event received: ' );    		
	    	console.log(e);		    
	    });
	  }
	});

	customElements.define('my-checkbox', class extends HTMLElement {
	  constructor() {
	    super();
	    //const shadowRoot = this.attachShadow({mode: 'open'});
	    this.checkEvent = new CustomEvent("check", {
	      bubbles: true,
	      cancelable: false,
	    });
	    this.innerHTML = `
	      <label>
	        <input type="checkbox" id="my-checkbox"></input>
	        Dummy Enabled
	      </label>`;
	      this.addEventListener('click', (e) => {
	      console.log('Dispatching checked event: ');
	      console.log(e);
	      this.dispatchEvent(this.checkEvent);
	    });
	  }
	});
	
	customElements.define('my-test', class extends HTMLElement {
		  constructor() {
		    super();
		    //const shadowRoot = this.attachShadow({mode: 'open'});
		    this.innerHTML = `<h2>MyTest</h2>`;
		    this.addEventListener('test', (e) => console.warn('Listened on test event', e), false);
		  }
		});
</script>


</body>
</html>